- 传统桌面不足之处：信息安全；维护成本高；资源利用率低1/3

桌面云优势:

> 终端与数据隔离，高可靠性架构，防泄密，防丢失；

> 桌面快速发放，集中运维,一人维护1500个云桌面；

> 资源按需调整，移动办公

DaaS Desktop as a service


FusionCloud桌面云解决方案架构
---

```txt
终端接入层　　　　　　瘦客户机、笔记本、台式机
桌面和会话管理层　　　FusionAccess
云操作系统管理层     FusionSphere
硬件资源层          计算设备、存储设备、网络设备、防火墙
```

FusionAccess桌面虚拟化以服务器虚拟化为基础

FusionAccess采用业界领先的HDP桌面协议，可将授权用户安全连接至集中式虚拟桌面

FusionAccess 华为桌面云接入管理系统，内部使用了华为自研的HDP桌面控制协议，实现虚拟桌面业务管理，权限控制等

HDP Agent　华为桌面协议代理软件，将虚拟桌面显示信息以HDP协议传送到客户端，并接受客户端键盘、鼠标、外设信息

FusionSphere　华为云操作系统，实现物理资源虚拟化，为桌面接入管理提供虚拟资源

FusionAccess管理Portal　统一管理系统，实现FusionAccess桌面云业务管理。并支持嵌入到FusionSphere虚拟平台管理FusionManager中

|组件|英文名称|中文名称|
|:---:|:---:|:---:|
|HDC|Huawei Desktop Controller|华为桌面控制器|
|ITA|IT Adapter|IT资源适配管理|
|AUS|App Update Server|应用升级服务器|
|vLB|Virtual Load Balance|虚拟负载均衡|
|vAG|Virtual Access Gateway|虚拟接入网关|
|SVN|Security VPN|华为安全网关与负载均衡产品|
|WI|Web Interface|用户门户接口|
|HDA|HDP Agent|HDP 代理|
|APS|Application Server|应用服务器|
|TC| Thin Client|瘦客户端|
|SC|Soft Client|软客户端|

桌面业务发放
> HDC根据ITA的请求，完成桌面组的创建、删除、修改、查询，完成与桌面组相关的资源状态统计(未注册、已注册；未连接、已连接)

> HDC根据ITA请求，完成虚拟机与用户或者用户组的关联，关联模式1:1、1:N、M:N

桌面形态
---

完整复制桌面云、链接克隆桌面云、全内存极速桌面、高性能图形桌面

- 全复制桌面：用户拥有单独的系统盘和数据盘；基于虚拟机级别的隔离；安全性高；个性化强；外设支持类型丰富；用户体验和传统PC一致
- 链接克隆桌面：　链接克隆桌面和完整复制桌面区别主要在系统盘的存储上，链接克隆桌面的虚拟机共享一个系统盘，系统盘分为不同部分(C:/users等)和临时安装的个性化程序都保存在差分盘中，并将母盘和差分盘组合映射为一个链接克隆盘作为虚拟机的整个系统盘，提供给虚拟机用。对于差分盘，可以配置还原策略，每次更新系统母盘时，差分盘自动清除
- 由于母盘共用，所以母盘要有很高的读性能
- FusionAccess支持个人配置数据漫游和统一用户数据存储，支持用户登录到不同服务器上使用相同用户配置文件，可以将用户个人配置数据漫游
- 全内存极速桌面　解决“启动风暴或登录风暴”，利用了内存介质极高的读写性能的特点，将虚拟桌面存储读写转换为对内存的读写，解决了存储IOPS瓶颈问题。

> 运用IOTailor技术，将虚拟机母盘数据在线压缩放入内存，获得极高读写性能，用户对系统盘读写临时分配一部分内存做差分盘。每个用户的系统盘就是共用系统盘与差分盘的合并。放入内存的数据不进行实时持久化，虚拟机关机或者服务器重启，虚拟机将恢复到初始状态

> 应用场景:网吧、电教室、学校上机室、电子阅览室
- 高性能图形处理桌面　３D软件需要高性能图形处理器，华为推出了GPU硬件直通与GPU硬件虚拟化技术；

HDP华为桌面协议
---

1. 最大支持32个虚拟通道，每个通道承载不同上层协议(USB Tunnel、Display Tunnel、Mouse Tunnel　.......)
2. 协议功能丰富，可以根据不同应用类型(普通文本、图像、视频、３D图像)采用不同压缩算法，灵活使用服务器渲染和本地加速渲染
3. 利用海思芯片硬件接口进行视频解码加速，最大支持4K播放
4.　通过对非自然图像的智能识别而采用无损的压缩算法，对重复图像免传输等技术
5.　通过对语音场景识别自动降噪
6. 丰富的协议管理策略

CloudClient是部署在终端一个集成了浏览器功能的组件,该组件通过http协议和WI交互，向用户呈现登录界面；可以通过CloudClient配置生产站点和灾备站点，当发现生产站点异常时该组件会登录到灾备站点

GSLB业务灾备方案

GSLB定时检查两个数据中心(主备)的vLB健康状态，当用户登录桌面时，首先向GSLB(DNS)解析登录数据中心的URL,当GSLB根据用户预设规则，优先返回规则数据中心的IP地址，如果首选数据中心异常，则把客户端域名解析为灾备数据中心IP地址



